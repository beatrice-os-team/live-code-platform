# 基于洛书（Losu）编程语言与 Web Assembly 的编译与 OS 演示系统

---

## 项目简介

本项目基于洛书（Losu）编程语言与 Web Assembly 技术，打造一个集编程教学与操作系统原理演示于一体的交互式网站。用户可以在浏览器中编写 Losu 代码，体验编译、虚拟机运行、内存管理、线程调度、文件操作等底层 OS 功能的可视化过程，助力系统能力学习与创新实践。

本项目为 2025 年全国大学生计算机系统能力大赛-操作系统设计赛（全国）- OS功能挑战赛道参赛作品。

---

## 实验介绍

> 点击侧边栏进入

### Live Code

在线代码编译器。

### 编译演示

#### 词法分析

输入 Losu 源代码，输出词法。

#### 语法分析

输入 Losu 源代码，输出语法。

#### 语义分析

输入 Losu 源代码，输出语义。

#### 代码生成

输入 Losu 源代码，输出汇编。

### OS 演示

#### 内存管理

展示运行时的内存布局。

#### 文件系统

展示 Losu 编译器对文件系统相关 syscall 的使用。

#### 中断处理

展示线程的中断处理。

#### 线程调度

展示运行时的线程调度。

---

## 主要特性

- **洛书语言支持**：内置 Losu 编译器，支持 Losu 源文件编写、字节码生成及运行。
- **WebAssembly 驱动**：所有编译与虚拟机功能在浏览器原生高性能运行，跨平台兼容，零环境依赖。
- **操作系统功能演示**：
  - 用户态线程与调度算法实验
  - 内存分配与垃圾回收可视化
  - 文件系统操作（读写、目录、压缩包导出等）
- **图形化教学界面**：实时展示内存、线程、文件等系统状态，便于理解操作系统原理。
- **多种系统算法实验**：支持多种调度/内存管理算法，用户可切换体验。
- **完整工程文档与可扩展性**：配套说明文档，易于二次开发和课程集成。

---

## 项目架构

### 前端

- 基于 Express 的 Web 服务端
    - 静态资源路由 `/`
    - 支持 Markdown 渲染 `*.md`
    - API 路由 `/api/*`

### Losu 编译器

- 通过 emcc 编译 Losu 编译器
    - 将实验需要的函数编译为 Wasm

---

## 关键词

- **WebAssembly**：跨平台、高性能、易扩展，浏览器内实现编译与虚拟机。
- **编译器原理**：
    - 词法分析（Lexer/Token）
    - 语法分析（EBNF/Parser/AST）
    - 语义分析（符号表/软关键词）
    - 代码生成（指令体系/优化/目标代码）
- **操作系统原理**：
    - 内存管理（分配/释放/GC）
    - 文件系统（WASM FS/读写/目录/压缩包导出）
    - 任务管理（中断/多线程/调度算法）

---

## 参考资料

- [Emscripten](https://emscripten.org/)：LLVM 到 WebAssembly 编译工具链
- [The BGET Memory Allocator](http://www.philoxeno.com/bget/)
- [洛书编译器与虚拟机源代码 - 2023版](https://github.com/Neuqmiao/Losu2023)
- [洛书编译器与虚拟机源代码 - 2024版](https://github.com/Neuqmiao/Losu2024)

---

## 贡献与开发

欢迎感兴趣的同学与开发者参与本项目建设！

